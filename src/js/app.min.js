document.addEventListener("DOMContentLoaded",(function(){Inputmask().mask(document.querySelectorAll("input"));let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",e+"px");let t=document.querySelector(".header"),o=t?t.getBoundingClientRect().height:0;document.documentElement.style.setProperty("--headerh",o+"px");let i=document.querySelector(".main"),l=i?i.getBoundingClientRect().height:0;function s(e){let t=self.pageYOffset?self.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0,o=function(e){let t=document.getElementById(e),o=t.offsetTop,i=t;for(;i.offsetParent&&i.offsetParent!=document.body;)i=i.offsetParent,o+=i.offsetTop;return o}(e),i=o>t?o-t:t-o;if(i<100)return void scrollTo(0,o);let l=Math.round(i/100);l>=20&&(l=20);let s=Math.round(i/25),n=o>t?t+s:t-s,a=0;if(o>t)for(let e=t;e<o;e+=s)setTimeout("window.scrollTo(0, "+n+")",a*l),n+=s,n>o&&(n=o),a++;else for(let e=t;e>o;e-=s)setTimeout("window.scrollTo(0, "+n+")",a*l),n-=s,n<o&&(n=o),a++}document.documentElement.style.setProperty("--mainh",l+"px"),window.addEventListener("resize",()=>{let e=.01*window.innerHeight,o=t?t.getBoundingClientRect().height:0,l=i?i.getBoundingClientRect().height:0;document.documentElement.style.setProperty("--vh",e+"px"),document.documentElement.style.setProperty("--headerh",o+"px"),document.documentElement.style.setProperty("--mainh",l+"px")});const n=document.querySelectorAll('a[href^="#"]');n&&n.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),setTimeout(()=>{e.getAttribute("href").length>1&&s(e.getAttribute("href").slice(1))},500)})});const a=document.querySelectorAll(".input-group__input");a&&a.forEach(e=>{const t=e.closest(".input-group__control").querySelector(".input-group__label");e.addEventListener("focus",()=>{t.classList.add("input-group__label--active")}),e.addEventListener("blur",()=>{e.value.length<1&&t.classList.remove("input-group__label--active")})});const c=document.querySelectorAll(".feedback-form");c&&c.forEach(e=>{e.addEventListener("submit",t=>{const o=e.querySelectorAll(".input-group__input");let i=o.length;for(let e of o)!1===e.validity.valid?e.classList.add("is--error"):(e.classList.remove("is--error"),i-=1);i>=1&&t.preventDefault()})});const r=document.querySelectorAll(".switch__input"),d=document.querySelectorAll(".switch-content");r&&r.forEach(e=>{e.addEventListener("click",()=>{e.checked?(e.parentNode.classList.remove("switch--no-checked"),d.forEach(e=>{e.classList.remove("switch-content--active"),"online"===e.dataset.switch&&(e.classList.add("switch-content--active"),document.querySelectorAll(".about__item, .programm__item").forEach(e=>{e.classList.remove("aos-animate")}),AOS.refresh())})):(e.parentNode.classList.add("switch--no-checked"),d.forEach(e=>{e.classList.remove("switch-content--active"),"offline"===e.dataset.switch&&(e.classList.add("switch-content--active"),document.querySelectorAll(".about__item, .programm__item").forEach(e=>{e.classList.remove("aos-animate")}),AOS.refresh())}))})});const m=document.querySelectorAll(".programm__more");m&&m.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),!e.classList.contains("programm__more--hidden")&&e.previousElementSibling.classList.contains("programm__wrapper--hidden")?(e.previousElementSibling.classList.remove("programm__wrapper--hidden"),e.innerHTML="Скрыть"):(e.previousElementSibling.classList.add("programm__wrapper--hidden"),e.innerHTML="Показать полностью")})});const u=document.querySelectorAll(".video__promo");u&&u.forEach(e=>{e.addEventListener("click",t=>{if(t.preventDefault(),e.nextElementSibling.classList.contains("video__iframe")){var o=e.getAttribute("href"),i=o.substr(o.length-11)+"?rel=0&autoplay=1";e.nextElementSibling.querySelector("iframe").setAttribute("src","https://www.youtube.com/embed/"+i),e.nextElementSibling.querySelector("iframe").setAttribute("autoplay",""),e.nextElementSibling.querySelector("iframe").setAttribute("playsinline",""),e.classList.add("video__promo--hidden"),e.nextElementSibling.classList.add("video__iframe--visible")}})});const v=document.getElementById("hamburger-toggle"),p=document.getElementById("mobile-menu"),y=document.querySelector(".mobile-menu__close");v&&v.addEventListener("click",e=>{e.preventDefault(),A.classList.contains("modal-overlay--active")||A.classList.add("modal-overlay--active"),document.body.classList.add("scroll-disabled"),p.classList.add("mobile-menu--active")}),y&&y.addEventListener("click",e=>{e.preventDefault(),A.classList.contains("modal-overlay--active")&&A.classList.remove("modal-overlay--active"),document.body.classList.remove("scroll-disabled"),p.classList.remove("mobile-menu--active")});const b=document.querySelectorAll(".contacts-btn"),g=document.getElementById("contacts-menu"),h=document.querySelector(".contacts-menu__close"),w=document.querySelector(".contacts-menu__back");b&&b.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),A.classList.contains("modal-overlay--active")||A.classList.add("modal-overlay--active"),document.body.classList.add("scroll-disabled"),g.classList.add("contacts-menu--active")})}),h&&h.addEventListener("click",e=>{e.preventDefault(),A.classList.contains("modal-overlay--active")&&A.classList.remove("modal-overlay--active"),document.body.classList.remove("scroll-disabled"),g.classList.remove("contacts-menu--active"),p.classList.contains("mobile-menu--active")&&p.classList.remove("mobile-menu--active")}),w&&w.addEventListener("click",e=>{e.preventDefault(),g.classList.remove("contacts-menu--active")});const f=document.querySelector(".reviews__slider .swiper-container"),L=document.querySelector(".media-content__slider .swiper-container"),E=document.querySelector(".gallery__slider .swiper-container"),S=document.querySelector(".mini-courses__slider .swiper-container");if(f){new Swiper(f,{slidesPerView:"3",speed:800,spaceBetween:20,navigation:{prevEl:f.nextElementSibling.querySelector(".swiper-navigation > .swiper-button-prev"),nextEl:f.nextElementSibling.querySelector(".swiper-navigation > .swiper-button-next")},pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{0:{slidesPerView:"1"},768:{slidesPerView:"auto"},1200:{slidesPerView:"3"}}})}if(L){new Swiper(L,{slidesPerView:"4",speed:800,spaceBetween:20,navigation:{prevEl:L.nextElementSibling.querySelector(".swiper-navigation > .swiper-button-prev"),nextEl:L.nextElementSibling.querySelector(".swiper-navigation > .swiper-button-next")},pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{0:{slidesPerView:"1"},768:{slidesPerView:"auto"},1200:{slidesPerView:"4"}}})}if(E){new Swiper(E,{slidesPerView:"3",speed:800,spaceBetween:20,navigation:{prevEl:E.nextElementSibling.querySelector(".swiper-navigation > .swiper-button-prev"),nextEl:E.nextElementSibling.querySelector(".swiper-navigation > .swiper-button-next")},pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{0:{slidesPerView:"1"},768:{slidesPerView:"auto"},1200:{slidesPerView:"3"}}})}if(S){const e=[...document.querySelectorAll(".mini-courses__slide")];if(setTimeout(()=>{let t=function(e){const t=e.map(e=>e.getBoundingClientRect().height);return Math.max.apply(null,t)}(e);e.forEach(e=>{e.style.minHeight=t+"px"})},100),window.innerWidth<1024){new Swiper(S,{slidesPerView:"auto",speed:800,spaceBetween:20,pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{0:{slidesPerView:"1"},768:{slidesPerView:"auto"}}})}}const _=document.querySelectorAll(".modal-btn"),q=document.querySelectorAll(".modal"),k=document.querySelectorAll(".modal__close"),A=document.querySelector(".modal-overlay");_&&_.forEach((e,t)=>{e.addEventListener("click",t=>{t.preventDefault(),document.querySelectorAll(".modal.modal--active").forEach(e=>e.classList.remove("modal--active")),A.classList.contains("modal-overlay--active")||A.classList.add("modal-overlay--active"),document.body.classList.add("scroll-disabled");const o=e.dataset.id;document.getElementById(o).classList.add("modal--active")})}),document.body.addEventListener("keyup",e=>{27==e.keyCode&&A&&(A.classList.remove("modal-overlay--active"),document.body.classList.remove("scroll-disabled"),q&&document.querySelectorAll(".modal.modal--active").forEach(e=>e.classList.remove("modal--active")),p.classList.contains("mobile-menu--active")&&p.classList.remove("mobile-menu--active"),g.classList.contains("contacts-menu--active")&&g.classList.remove("contacts-menu--active"))},!1),A&&A.addEventListener("click",()=>{A.classList.remove("modal-overlay--active"),document.body.classList.remove("scroll-disabled"),q&&document.querySelectorAll(".modal.modal--active").forEach(e=>e.classList.remove("modal--active")),p.classList.contains("mobile-menu--active")&&p.classList.remove("mobile-menu--active"),g.classList.contains("contacts-menu--active")&&g.classList.remove("contacts-menu--active")}),k&&k.forEach(e=>{e.addEventListener("click",()=>{document.body.classList.remove("scroll-disabled"),A.classList.remove("modal-overlay--active"),document.querySelectorAll(".modal.modal--active").forEach(e=>e.classList.remove("modal--active"))})}),window.innerWidth>=1200?Fancybox.bind('[data-fancybox="gallery"]',{animated:!1,showClass:!1,hideClass:!1,dragToClose:!1,closeButton:"top",Thumbs:!1,Toolbar:!1,Carousel:{Dots:!0},Image:{zoom:!1,click:!1,wheel:!1}}):Fancybox.bind('[data-fancybox="gallery"]',{animated:!1,showClass:!1,hideClass:!1,dragToClose:!1,closeButton:"top",Thumbs:!1,Toolbar:!1,Carousel:{Dots:!0},Image:{zoom:!1,click:!1,wheel:!1,fit:"contain-w"},on:{init:e=>e.prevScrollTop=0,done:(e,t)=>t.$el.scrollTop=e.prevScrollTop,"Carousel.change":(e,t,o,i)=>{e.prevScrollTop=t.slides[i].$el.scrollTop||0,t.slides[o].$el&&(t.slides[o].$el.scrollTop=e.prevScrollTop)}}}),AOS.init({duration:700,once:!0}),window.addEventListener("scroll",(function(e){AOS.refreshHard()}))}));